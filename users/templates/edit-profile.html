{% load bootstrap4 %}
{% load crispy_forms_tags %}

{% bootstrap_css %}
{% bootstrap_javascript %}

<style>
  a:hover {
    text-decoration: none; /* overrides the bootstrap styling */
  }
</style>

<!-- Modal HTML -->
<div id="editProfileModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Edit Profile</h2>
    <form method="POST" id="editProfileForm" enctype="multipart/form-data">
      {% csrf_token %}
      {{ user_form|crispy }}
      {{ profile_form|crispy }}
      <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var modal = document.getElementById('editProfileModal');
  var span = document.getElementsByClassName('close')[0];

  // Close modal when close button (X) is clicked
  span.onclick = function() {
    modal.style.display = 'none';
  }

  // Close modal when user clicks outside of it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = 'none';
    }
  }
});
</script>
